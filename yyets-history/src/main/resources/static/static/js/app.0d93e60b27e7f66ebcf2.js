webpackJsonp([1],{"6WMh":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App"},i,!1,function(e){a("efAC")},null,null).exports,s=a("/ocq"),o=document.getElementById("hiddenLink"),r={data:function(){return{searchForm:{name:""},loading:!1,dialogVisible:!1,resourceLinks:[],resourceLinksTableData:[],resourceRow:{},tableData:[],dialogTitle:"资源列表",linkGroup:0,operationType:0}},methods:{viewSeason:function(e,t){this.resourceRow=e;var a=e.seasons[t];this.dialogTitle=e.name+" "+a.name,this.resourceLinks=a.groups;var n=this.resourceLinks.findIndex(function(e){return"HR-HDTV"===e.name||"MP4"===e.name});this.linkGroup=n>-1?n:0,this.resourceLinksTableData=this.resourceLinks[0].items,this.dialogVisible=!0},linkGroupChange:function(e){this.resourceRow.seasons&&0!==this.resourceRow.seasons.length&&(this.resourceLinksTableData=this.resourceLinks[e].items)},copyLink:function(e){o.value=e,o.select(),document.execCommand("copy"),this.$message({message:"复制成功",type:"success"})},dealLink:function(e,t){var a=e.links[t].address;console.log(a),0===this.operationType?this.copyLink(a):this.$alert('<textarea style="width:380px;height:60px;">'+a+"</textarea>","查看链接",{dangerouslyUseHTMLString:!0})},onSubmit:function(){var e=this;if(this.searchForm.name){var t="/resource/page/1/"+this.searchForm.name;this.loading=!0,this.$axios.get(t).then(function(t){console.dir(t),e.loading=!1,e.tableData=t.data,e.$message({message:"查询成功",type:"success"})}).catch(function(t){e.loading=!1,console.dir(t),e.$message.error("查询失败")})}else this.$message({message:"请输入剧目",type:"warning"})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{border:"1px solid #eee"}},[a("div",{staticClass:"grid-content bg-purple-light div-content"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"剧目:"}},[a("el-input",{attrs:{placeholder:"剧目"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"250",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"剧目",width:"180",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nameEN",label:"英文名",width:"180",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channel",label:"频道",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"area",label:"地区"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.seasons,function(n,i){return a("el-button",{key:""+t.row.id+i,staticStyle:{"margin-left":"10px"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.viewSeason(t.row,i)}}},[e._v(e._s(n.name))])})}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"750px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"资源分组:"}},[a("el-select",{attrs:{placeholder:"资源分组",change:e.linkGroupChange(e.linkGroup)},model:{value:e.linkGroup,callback:function(t){e.linkGroup=t},expression:"linkGroup"}},e._l(e.resourceLinks,function(t,n){return a("el-option",{key:""+e.resourceLinks.name+t.name+n,attrs:{label:t.name,value:n}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"操作类型:"}},[a("el-select",{attrs:{placeholder:"操作类型"},model:{value:e.operationType,callback:function(t){e.operationType=t},expression:"operationType"}},[a("el-option",{attrs:{label:"复制",value:0}}),e._v(" "),a("el-option",{attrs:{label:"查看",value:1}})],1)],1)],1),e._v(" "),a("el-table",{attrs:{data:e.resourceLinksTableData,height:"300px"}},[a("el-table-column",{attrs:{property:"episode",label:"分集",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"文件名",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"size",label:"大小"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.links,function(n,i){return a("el-button",{key:""+e.resourceRow.id+t.row.episode+i,staticStyle:{"margin-left":"10px"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.dealLink(t.row,i)}}},[e._v(e._s(n.way))])})}}])})],1)],1),e._v(" "),a("textarea",{staticStyle:{display:"none"},attrs:{id:"hiddenLink"}})],1)},staticRenderFns:[]};var u=a("VU/8")(r,c,!1,function(e){a("6WMh")},null,null).exports;n.default.use(s.a);var d=new s.a({routes:[{path:"/",name:"Main",component:u}]}),p=a("zL8q"),m=a.n(p),f=(a("tvR6"),a("mtWM")),h=a.n(f);n.default.config.productionTip=!1,n.default.prototype.$axios=h.a,n.default.use(s.a),n.default.use(m.a),new n.default({el:"#app",router:d,components:{App:l},template:"<App/>"})},efAC:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0d93e60b27e7f66ebcf2.js.map